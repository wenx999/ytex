<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<entry key="outdir"></entry>
	<entry key="test.instance.query"><![CDATA[
	select d.docId, dis.disease_id, j.judgement_id
	from i2b2_2008_doc d
	inner join i2b2_2008_anno a on d.docId = a.docId
	inner join i2b2_2008_disease dis on dis.disease = a.disease
	inner join i2b2_2008_judgement j on j.judgement = a.judgement
	where documentSet = 'train'
	and a.source = 'intuitive'
]]></entry>
	<entry key="train.instance.query"><![CDATA[
	select d.docId, dis.disease_id, j.judgement_id
	from i2b2_2008_doc d
	inner join i2b2_2008_anno a on d.docId = a.docId
	inner join i2b2_2008_disease dis on dis.disease = a.disease
	inner join i2b2_2008_judgement j on j.judgement = a.judgement
	where documentSet = 'test'
	and a.source = 'intuitive'
]]></entry>
	<!--  perform tf-idf transformation on raw term frequencies -->
	<entry key="numericWordQuery"><![CDATA[
	/* query to get stemmed words */
	select tf.uid, tf.canonical_form, (freq / dl.length) * (log(d.doccount) - log(1+f.numdocs)) tfidf
	from
	(
	  select k.uid, w.canonical_form, count(*) freq
		from ytex.document d
		inner join ytex.anno_base ak on ak.document_id = d.document_id
		inner join ytex.anno_dockey k on ak.anno_base_id = k.anno_base_id
		inner join ytex.anno_base an on an.document_id = ak.document_id
		inner join ytex.anno_word_token w on w.anno_base_id = an.anno_base_id
		where canonical_form is not null
		and analysis_batch = 'i2b2.2008'
		and w.canonical_form not in (select stopword from stopword)
	  group by k.uid, w.canonical_form
	) tf
	inner join tfidf_doclength dl on tf.uid = dl.instance_id and dl.name = 'i2b2.2008-word'
	inner join tfidf_docfreq f on f.term = tf.canonical_form and f.name = 'i2b2.2008-word'
	inner join
	(
	  select count(*) doccount from i2b2_2008_doc
	) d
	union
	/* query to get cuis */
	select tf.uid, tf.code, (freq / dl.length) * (log(d.doccount) - log(1+f.numdocs)) tfidf
	from
	(
		select k.uid, c.code, count(*) freq
		from ytex.document d
		inner join ytex.anno_base ak on ak.document_id = d.document_id
		inner join ytex.anno_dockey k on ak.anno_base_id = k.anno_base_id
		inner join ytex.anno_base an on an.document_id = d.document_id
		inner join anno_ontology_concept c on c.anno_base_id = an.anno_base_id
		where analysis_batch = 'i2b2.2008'
		group by k.uid, c.code
	) tf
	inner join tfidf_doclength dl on tf.uid = dl.instance_id and dl.name = 'i2b2.2008-cui'
	inner join tfidf_docfreq f on f.term = tf.code and f.name = 'i2b2.2008-cui'
	inner join
	(
	  select count(*) doccount from i2b2_2008_doc
	) d	
]]></entry>
</properties>
