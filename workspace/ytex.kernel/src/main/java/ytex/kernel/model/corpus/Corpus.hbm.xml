<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="ytex.kernel.model.corpus">
	<class name="CorpusEvaluation" table="corpus_concept_eval">
		<id name="corpusConceptEvaluationId" column="corpus_concept_eval_id">
			<generator class="native">
				<param name="sequence">corpus_concept_eval_id</param>
			</generator>
		</id>
		<property name="corpusName" column="corpus_name" />
		<property name="conceptGraphName" column="conceptgraph_name" />
		<property name="conceptSetName" column="conceptset_name" />
	</class>
	<class name="ConceptInformationContent" table="corpus_concept_ic">
		<id name="corpusConceptInformationContentId" column="corpus_concept_ic_id">
			<generator class="native">
				<param name="sequence">corpus_concept_ic_id</param>
			</generator>
		</id>
		<many-to-one name="corpus" column="corpus_concept_eval_id" />
		<property name="conceptId" column="concept_id" />
		<property name="frequency" />
		<property name="informationContent" column="ic" />
	</class>
	<class name="CorpusLabelEvaluation" table="corpus_concept_eval">
		<id name="corpusConceptLabelEvaluationId" column="corpus_concept_label_eval_id">
			<generator class="native">
				<param name="sequence">corpus_concept_label_eval_id</param>
			</generator>
		</id>
		<many-to-one name="corpus" column="corpus_concept_eval_id" />
		<property name="label" column="label" />
		<property name="foldId" column="cv_fold_id" />
	</class>
	<class name="ConceptLabelStatistic" table="corpus_concept_eval">
		<id name="corpusConceptLabelStatisticId" column="corpus_concept_label_stat_id">
			<generator class="native">
				<param name="sequence">corpus_concept_label_stat_id</param>
			</generator>
		</id>
		<many-to-one name="corpusLabel" column="corpus_concept_label_eval_id" />
		<property name="conceptId" column="concept_id" />
		<property name="mutualInfo" column="mutual_info" />
		<property name="jointDistribution" column="joint_distro" />
	</class>
	<query name="getCorpus"><![CDATA[
		from CorpusEvaluation
		where corpusName = :corpusName 
		and conceptGraphName = :conceptGraphName
		and ((conceptSetName is null and :conceptSetName is null) or (conceptSetName = :conceptSetName))
	]]></query>
	<query name="getInfoContent"><![CDATA[
		from ConceptInformationContent
		where corpus.corpusName = :corpusName 
		and corpus.conceptGraphName = :conceptGraphName
		and ((corpus.conceptSetName is null and :conceptSetName is null) or (corpus.conceptSetName = :conceptSetName))
	]]></query>
	<query name="getCorpusCuiTuis"><![CDATA[
		select s.cui, s.tui 
		from ConceptInformationContent ct, MRSTY s
		where ct.corpus.corpusName = :corpusName
		and ct.corpus.conceptGraphName = :conceptGraphName
		and ((ct.corpus.conceptSetName is null and :conceptSetName is null) or (ct.corpus.conceptSetName = :conceptSetName))
		and ct.conceptId = s.cui
	]]></query>
	<query name="getCorpusLabel"><![CDATA[
		from CorpusLabelEvaluation
		where corpus.corpusName = :corpusName 
		and corpus.conceptGraphName = :conceptGraphName
		and ((corpus.conceptSetName is null and :conceptSetName is null) or (corpus.conceptSetName = :conceptSetName))
		and ((label is null and :label is null) or (label = :label))
		and ((foldId is null and :foldId is null) or (foldId = :foldId))
	]]></query>
	<query name="getLabelStatistic"><![CDATA[
		from ConceptLabelStatistic
		where corpusLabel.corpus.corpusName = :corpusName 
		and corpusLabel.corpus.conceptGraphName = :conceptGraphName
		and ((corpusLabel.corpus.conceptSetName is null and :conceptSetName is null) or (corpusLabel.corpus.conceptSetName = :conceptSetName))
		and ((corpusLabel.label is null and :label is null) or (corpusLabel.label = :label))
		and ((corpusLabel.foldId is null and :foldId is null) or (corpusLabel.foldId = :foldId))
	]]></query>
</hibernate-mapping>